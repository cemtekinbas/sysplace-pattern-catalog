\input{header.tex}

\newcommand{\name}{Stitch To Extend}

% -------------------------------
% WAS
% -------------------------------

\newcommand{\desc}{Der Bildschirm-Inhalt des Quell-Gerätes soll auf dem Ziel-Gerät erweitert dargestellt werden.}

\newcommand{\solution}{Zwei Geräte werden nebeneinander gelegt. Der Anwender zieht mit dem Finger eine Linie von dem Display des Quell-Gerätes hinüber auf das Display des Ziel-Gerätes, wo die gezogene Linie endet.
Diese Nutzerinteraktion löst die Erweiterung des Bildschirminhalts vom Quell- auf das Ziel-Gerät aus.}

%\newcommand{\category}{give}
%\newcommand{\category}{take}
%\newcommand{\category}{exchange}
\newcommand{\category}{extend}
%\newcommand{\category}{connect}

% -------------------------------
% WIE
% -------------------------------

\newcommand{\useraction}{Der Nutzer legt das Quell- und Zielgerät parallel zueinander Seite an Seite. Auf dem Quell-Gerät wählt er die zu erweiternde Ansicht (z.B. Bild) aus. Er platziert einen Finger auf dem Bildschirm des Quellgerätes und führt diesen auf den Bildschirm des Zielgerätes hinüber, ohne den Finger zu heben.}

\newcommand{\reaction}{Die Bildschirm-Ansicht des Quell-Gerätes wird bei korrekter Ausführung und Erkennung auf dem Ziel-Gerät erweitert, also anteilig, dargestellt. }

\newcommand{\designnotes}{Bei zu unterschiedlichen Displaygrößen der beteiligten Geräte kann ggf. kein Mehrwert erzeugt werden (z.B. wenn ein Tablet und ein Smartphone hochkant nebeneinandergelegt werden kann bei der Erweiterung Fläche verloren gehen (siehe Abb.)).\\
Um einen möglichst fließenden Übergang zu gewinnen müssen die Displays sehr nah und parallel zueinander anliegen.\\
Jeder Bildschirm hat einen Rand, was dazu führt, dass durch das Nebeneinanderlegen zweier Geräte eine Lücke zwischen den Displays entsteht. Dadurch, dass mobile Endgeräte viel kleiner sind als Computermonitore, ist die Lücke zwischen den Geräten relativ zu ihren Dimensionen meist größer.\\
Es gibt zwei Möglichkeiten Ansichten zu erweitern: 
\begin{enumerate}
\item Das Bild in zwei Teile schneiden und die Ränder der Displays ignorieren. Dabei entsteht eine Streckung des Bildes (siehe Abb. /links).
\item Das Bild in zwei Teile schneiden und die Ränder der Displays einkalkulieren und aus dem Bild ausschneiden (siehe Abb. /rechts).
\end{enumerate} }

\newcommand{\microinteractions}{
\begin{enumerate}
\item Test
\item Another test
\end{enumerate}}

\newcommand{\microinteractionstabular}{
\begin{tabular}[H]{|c|c|c|c|c|c|}
\hline 
N\degree   & Name & Trigger Type & Trigger & Rules & Feedback \\ 
\hline 
1            &     Test      &     asdasf       & asdf       &      hhdfsg    &  filoj  \\ 
\hline
2            &    Another Test    &    sad x      &   x  hh  &     (sdfx)* &    asdf    \\ 
\hline 
\end{tabular}}

% -------------------------------
% WANN
% -------------------------------

\newcommand{\validcontext}{
\begin{itemize}
\item Visuelle Erweiterung/Bildschirmerweiterung: z.B. für Foto- / Video- / Spieleanwendungen / Aufteilen einer Arbeitsfläche in zwei / Panorama-Ansicht bei Bildern (siehe Abb.) / Darstellung von Medien im Originalformat (z.B. aufgeschlagenes Buch, also zwei Seiten auf zwei Bildschirmen darstellen)
\item Logische Erweiterung: Auslagern von Programmlogik, um auf den Screens verschiedene Aufgaben durchzuführen, z.B. Fernsehen und auf dem zweiten Screen ein dazugehörige Aktion, wie ein Quiz auszuführen.
\end{itemize}
}

\newcommand{\simultaneously}{}
%\newcommand{\sequentially}{}

%\newcommand{\online}{}
\newcommand{\offline}{}

\newcommand{\private}{}
\newcommand{\semipublic}{}
%\newcommand{\public}{}
\newcommand{\stationary}{}
%\newcommand{\onthego}{}

%\newcommand{\leanback}{}
\newcommand{\leanforward}{}

\newcommand{\single}{}
\newcommand{\collaboration}{}
%\newcommand{\facetoface}{}
\newcommand{\sidetoside}{}
%\newcommand{\cornertocorner}{}

\newcommand{\smalltask}{}
%\newcommand{\repeatedtask}{}
%\newcommand{\locationbased}{}
\newcommand{\distraction}{}
%\newcommand{\urgent}{} 

\newcommand{\notvalidcontext}{1. Wenn die zu erweiternde Ansicht eine geringe Auflösung hat, verschlechtert sich die Qualität noch weiter, wenn sie auf einer größeren Bildschirmfläche angezeigt wird. 2. Die benutzten Bildschirme sollten sich von der Größe nicht zu sehr Unterscheiden, da sonst der Zuwachs an Fläche abnimmt(Siehe Abbildung).}


\newcommand{\devicetabular}{
\begin{tabular}[H]{|c|c|c|c|c|c|}
\hline 
\diagbox{von}{nach}   & Smartwatch & Smartphone & Tablet & Tabletop & Screens \\ 
\hline 
Smartwatch            &     x      &            &        &          &         \\ 
\hline 
Smartphone            &            &     x      &   x    &     (x)* &         \\ 
\hline 
Tablet                &            &     x      &   x    &     x    &         \\ 
\hline 
Tabletop              &            &     (x)*   &   x    &     x    &         \\ 
\hline
Screens               &            &            &        &          &         \\ 
\hline 
\end{tabular} 
\\
\\ *Nur bedingt nutzbar (Siehe Abzuratender Nutzungskontext, 2.)}


% -------------------------------
% WARUM
% -------------------------------

%\newcommand{\established}{}
\newcommand{\candidate}{}
\newcommand{\realizable}{}
%\newcommand{\futuristic}{}

\newcommand{\otherpatterns}{
\begin{itemize}
\item Stitch To Give
\item Stitch To Take
\item Stitch To Connect
\item Pinch To Connect
\item Spread To Disconnect
\end{itemize}
}

\newcommand{\stateoftheart}{
\begin{enumerate}
\item Erwähnung von Stitch-Gesten und Ableitung der Pinch-Geste \cite{Lucero2010}
\item Erste wissenschaftliche Erwähnung von Stitch-Gesten \cite{Hinckley2004}.
\end{enumerate}
}


\newcommand{\designprinciples}{}

\newcommand{\imageschemata}{}
%\newcommand{\imageSchemaContainer}{}
%\newcommand{\imageSchemaInOut}{}
\newcommand{\imageSchemaPath}{}
\newcommand{\imageSchemaSourcePathGoal}{}
%\newcommand{\imageSchemaUpDown}{}
%\newcommand{\imageSchemaLeftRight}{}
%\newcommand{\imageSchemaNearFar}{}
%\newcommand{\imageSchemaPartWhole}{}

\newcommand{\realworld}{}
\newcommand{\realworldNaivePhysic}{}
\newcommand{\realworldBodyAwareness}{}
\newcommand{\realworldEnvironmentAwareness}{}
\newcommand{\realworldSocialAwareness}{}

\newcommand{\metaphor}{}
\newcommand{\metaphordesc}{Das Zusammennähen von zwei Stoffteilen}

% -------------------------------
% TECHNISCHES
% -------------------------------

\newcommand{\requiredTechnologies}{
Um Stitch To Extend auf einem Gerät (\textit{Device}) einsetzen zu können, gibt es einige Voraussetzungen und Einschränkungen bezüglich der verfügbaren Technologien auf diesem Gerät. Ein Gerät ist dann für das Stitch To Extend Pattern verwendbar, wenn es folgende Eigenschaften aufweist:
\begin{itemize}
\item \textbf{Input}: Für die Erkennung von Stitch-Geste ist ein Touchscreen notwendig. Bezüglich der technischen Funktionsweise des \textit{Screens} (kapazitiv, resistiv etc.) gibt es keine Einschränkungen, da ein einzelner Touchpunkt von den meisten gängigen Technologien erkannt wird.
\item \textbf{Output}: Je nachdem, welches Feedback dem User gegeben werden soll, sind \textit{Output} per Bildschirm sowie Vibration und Sound denkbar, wobei letztere optional sind.
\item \textbf{Connectivity}: Ziel der Stitch To Give Extend ist die Dateiübertragung zwischen zwei Geräten, die bereits über ein Ad-Hoc Netzwerk wie Bluetooth oder WiFi Direct miteinander verbunden sind. Auch das Protokoll zur synchronen Gestenerkennung wird mittels dieser Verbindung durchgeführt.
\end{itemize}

Abbildung \ref{stitch_hardware} fasst die benötigten Technologien modellhaft zusammen.

\begin{figure}[h]
\includegraphics[width=\textwidth]{stitch_hardware.png}
\caption{Bentötigte Technlogien für das Stich To Extend Pattern}
\label{stitch_hardware}
\end{figure}
}

\newcommand{\implementation}{
\subsubsection*{Erkennung synchroner Gesten}
Beim Stitch To Extend handelt es sich um eine \gls{synchronegeste}, die in zwei Teile zerfällt:

\begin{itemize}
\item Erkennung der Einzelanteile einer synchronen Geste pro Gerät (\textit{Gesture
Detection}), entspricht jeweils der Erkennung für \glspl{einfachegeste}.
\item Vergleich der resultierenden \textit{Gesture Events} als Anteile an einer synchronen Geste
\end{itemize}

Da beide Geräte bereits miteinander verbunden sind, entfällt die zentrale Vermittlungskomponente (vgl. $\rightarrow$ Stitch To Connect), stattdessen können beide Geräte über ein Protokoll direkt miteinander kommunizieren.

Nach Registrierung bei der zentralen Vermittlungskomponente führen Geräte kontinuierlich eine lokale, einfache Gestenerkennung basierend auf Sensordaten (Hard- oder Software) durch (\textit{Gesture Detection)}. Wurde  eine Geste lokal erkannt und an das entsprechende \textit{GestureEvent} an die Vermittlungskomponente gesendet, entscheidet diese, ob alle erforderlichen komplementären Anteile der synchronen Geste durch andere Geräte ebenfalls übermittelt wurden (\textit{Gesture Event Matching}). Die folgenden beiden Kapitel erläutern diese beiden Schritte für die Stitch To Extend Geste jeweils im Detail.

\subsubsection*{Stitch Gesture Detection}
Die lokale Erkennung einer Stitch-Geste entspricht der Erkennung von Swipes (da die einzelne Anteile eines Stitches lediglich einfache Swipe-Gesten sind). Die Erkennung von Swipe Gesten ist in der Patternbeschreibung zu $\rightarrow$ Swipe To Give ausführlich dokumentiert.\\

Hier müssen lediglich im erzeugten Swipe-Event zusätzliche Parameter erfasst werden, die das \textit{Stitch Event Matching} ermöglichen, wie z.B. ein Zeitstempel (\texttt{timestamp}) oder der Ein- bzw. Austrittswinkel des Swipes aus dem Bildschirm (\texttt{angle}). Zudem sollten Swipe-Gesten, die Teil von Stitch-Gesten sind, über Constraints so eingeschränkt werden, dass nur solche lokalen Swipes zulässig sind, die ein Stitch ermöglichen (bspw. nur Swipes von links nach rechts).

\subsubsection*{Stitch Protokoll}
Neben lokal erkannten Swipe-Anteilen der Stitch Geste können auch Swipe-Anteile der Gegenseite empfangen werden. Abbildung \ref{stitch_protocol} zeigt alle möglichen Zustände, die dabei auf einem Gerät angenommen werden können.\\

Von einem initialen \texttt{idle}-Zustand können entweder \texttt{Inbound} oder \texttt{Outbound}-Swipes erkannt werden, also Swipe-Gesten in Richtung des Bildschirmrandes oder vom Rand weg. Bei erkanntem \texttt{Inbound}-Swipe wird auf ein \texttt{Syn}-Paket gewartet (Zustand \texttt{In}), das die Gegenseite bei erkannten \textit{Outbound}-Swipe versendet; bei erkanntem \texttt{Outbound}-Swipe hingegen wird das \texttt{Syn}-Paket aktiv gesendet und auf ein \texttt{Ack}-Paket gewartet (Zustand \texttt{out}). \texttt{Syn}-Pakete werden jeweils mit einem \texttt{Ack}-Paket beantwortet, sofern das \textit{Stitch Event Matching} (s. folgendes Kapitel) erfolgreich war. Eine erfolgreiche Abfolge von \texttt{Syn}- und \texttt{Ack}-Paketen innerhalb eines gewissen Timeouts (hier exemplarisch 2 Sekunden) markiert eine erfolgreich erkannte Stitch-Geste.\\

\begin{figure}[h]
\includegraphics[width=\textwidth]{stitch_protocol.png}
\caption{Stitch Protokoll zur Verarbeitung lokaler und empfangener Anteile der synchronen Geste}
\label{stitch_protocol}
\end{figure}

Ein Sonderfall ergibt sich, wenn ein \texttt{Syn}-Paket im \texttt{idle}-Zustand empfangen wird, ohne dass ein \texttt{Inbound}-Swipe erfolgt ist. Das kann der Fall sein, wenn die Gegenseite einen \texttt{Outbound}-Swipe erkennt und das \texttt{Syn}-Paket schneller sendet, als die eigene lokale Gestenerkennung den entsprechenden \texttt{Inbound}-Swipe registriert. In dem Fall wird innerhalb eines Timeout-Fensters auf die lokale Geste gewartet.

\subsubsection*{Stitch Event Matching}
Ein Gerät führt ein Stitch Event Matching durch, wenn von der Gegenseite ein \textit{StitchEvent} innerhalb eines \texttt{Syn}-Paketes empfangen wurde, das als komplementärer Anteil eines lokalen \textit{Stitch-Events} in Frage kommen könnte. Abbildung \ref{stitch_event_matching} veranschaulicht einen exemplarischen Ablauf dieses Vergleiches.

\begin{figure}[h]
\includegraphics[width=\textwidth]{stitch_event_matching.png}
\caption{Stitch Event Matching}
\label{stitch_event_matching}
\end{figure}

Die Auswertung basiert in diesem Beispiel auf drei Parametern der jeweiligen \textit{StitchEvents}:
\begin{itemize}
\item \texttt{timestamp}: Vergleich der Differenz zwischen dem Ende des Swipes auf Gerät A (\texttt{time\_up}) und dem Beginn des Swipes auf Gerät B (\texttt{time\_down}) mit einer maximal erlaubten Differenz von 1500ms.
\item \texttt{angle}: Vergleich der Ein- und Austrittswinkel der beiden \textit{StitchEvents} mit einer Toleranz von 20 Grad.
\item \texttt{direction}: Vergleich der Richtung der beiden Swipes (hier nur links oder rechts vorgesehen).
\end{itemize}

Weitere Parameter oder eine andere Interpretation der Werte bzw. eine Anpassung der Toleranzbereiche ermöglichen eine Anpassung der Stitch Geste.

Entsprechend dem Lebenszyklus einer Multiscreen-Applikation ist die Voraussetzung
für Stitch To Extend eine bestehende Verbindung zum \recdev{} (vorangegangener Connect) und die Auswahl zu teilender Daten (Select) auf dem \sendev{}. Die Initiative zum Teilen des Bildschirms geht vom \sendev{} aus, statt einer Übertragung diskreter Daten wird ein kontinuierlicher Datenstrom übertragen und vom \recdev{} verarbeitet, bis die Verbindung beendet wird.\\

Weitergehende Informationen zum Applikations-Lebenszyklus und den weiteren
Gestaltungsmöglichkeiten für den \textit{Transfer}, \textit{Feedbacks} etc. finden sich
auf der \developerpage.
}

% -------------------------------
% SONSTIGES
% -------------------------------

\newcommand{\authors}{
Valentina Burjan, Hochschule Mannheim\\
Dominick Madden, Hochschule Mannheim\\
Horst Schneider, Hochschule Mannheim}
\newcommand{\versionhistory}{16.09.2016}
\newcommand{\dateofcreation}{17.09.2015}
\newcommand{\comments}{...}
\newcommand{\questions}{...}


% template inkludieren --------------

\input{template.tex}